import"./assets/modulepreload-polyfill-B5Qt9EMX.js";/* empty css                      */const c="http://localhost:3000/todos",l=document.querySelector(".todo-form"),s=document.querySelector(".list");l.addEventListener("submit",r);s.addEventListener("click",d);s.addEventListener("click",h);function a(t=c,o={}){return fetch(t,o).then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})}a(c).then(t=>s.insertAdjacentHTML("beforeend",i(t))).catch(t=>console.log(t.message));function i(t){return t.map(({id:o,title:e,completed:n})=>`
        <li data-id="${o}" class="list__item">
            <input type="checkbox" class="list__checkbox" ${n&&"checked"} >
            <h2 class="list__title">${e}</h2>
            <button class="list__btn">X</button>
        </li>
    `).join("")}function r(t){t.preventDefault();const{todo:o}=t.target.elements;a(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:o.value,completed:!1})}).then(e=>{s.insertAdjacentHTML("beforeend",i([e]))}).catch(e=>console.log(e.message)).finally(()=>t.target.reset())}function d(t){if(!t.target.classList.contains("list__checkbox"))return;t.preventDefault();const e=t.target.closest(".list__item").dataset.id;a(`${c}/${e}`,{method:"PATCH",body:JSON.stringify({completed:t.target.checked})}).then(n=>t.target.checked=n.completed).catch(n=>console.log(n.message))}function h(t){if(!t.target.classList.contains("list__btn"))return;const o=t.target.closest(".list__item"),e=o.dataset.id;a(`${c}/${e}`,{method:"DELETE"}).then(n=>o.remove()).catch(n=>console.log(n.message))}
//# sourceMappingURL=index.js.map
